==================================================
Step 1: Pre-generating Groundtruth (Parallel)
==================================================
  Total tasks: 20 (datasets × ranges)
  Parallel threads: 10

  [START] Generating GT: DEEP-96 R1%...
  [START] Generating GT: DEEP-96 R10%...
  [START] Generating GT: DEEP-96 R20%...
  [START] Generating GT: DEEP-96 R100%...
  [START] Generating GT: DEEP-96 R50%...
  [START] Generating GT: SIFT-128 R1%...
  [START] Generating GT: SIFT-128 R20%...  [START] Generating GT: SIFT-128 R10%...  [START] Generating GT: SIFT-128 R50%...

  [START] Generating GT: SIFT-128 R100%...

  [DONE] GT generated: SIFT-128 R1%
  [START] Generating GT: GIST-960 R1%...
  [DONE] GT generated: DEEP-96 R1%
  [START] Generating GT: GIST-960 R10%...
  [Progress] 2/20 GT files generated
  [DONE] GT generated: DEEP-96 R10%
  [START] Generating GT: GIST-960 R20%...
  [DONE] GT generated: SIFT-128 R10%
  [START] Generating GT: GIST-960 R50%...  [Progress] 4/20 GT files generated

  [DONE] GT generated: GIST-960 R1%
  [START] Generating GT: GIST-960 R100%...
  [DONE] GT generated: DEEP-96 R20%
  [START] Generating GT: WIT-2048 R1%...
  [Progress] 6/20 GT files generated
  [DONE] GT generated: SIFT-128 R20%
  [START] Generating GT: WIT-2048 R10%...
  [DONE] GT generated: DEEP-96 R50%
  [START] Generating GT: WIT-2048 R20%...
  [Progress] 8/20 GT files generated
  [DONE] GT generated: WIT-2048 R1%
  [START] Generating GT: WIT-2048 R50%...
  [DONE] GT generated: SIFT-128 R50%
  [Progress] 10/20 GT files generated
  [START] Generating GT: WIT-2048 R100%...
  [DONE] GT generated: DEEP-96 R100%
  [DONE] GT generated: GIST-960 R10%
  [Progress] 12/20 GT files generated
  [DONE] GT generated: SIFT-128 R100%
  [DONE] GT generated: GIST-960 R20%
  [Progress] 14/20 GT files generated
  [DONE] GT generated: WIT-2048 R10%
  [DONE] GT generated: WIT-2048 R20%
  [Progress] 16/20 GT files generated
  [DONE] GT generated: GIST-960 R50%
  [DONE] GT generated: GIST-960 R100%
  [Progress] 18/20 GT files generated
  [DONE] GT generated: WIT-2048 R50%
  [DONE] GT generated: WIT-2048 R100%
  [Progress] 20/20 GT files generated

==================================================
Groundtruth generation complete!
==================================================

Using 20 groundtruth files (4 datasets × 5 ranges)

==================================================
Step 2: Running Parameter Sweep Tests (Dataset by Dataset)
==================================================
Datasets: ['DEEP-96', 'SIFT-128', 'GIST-960', 'WIT-2048']
Query Ranges: [1, 10, 20, 50, 100]%
Strategy: MaxLeap
Parameter Grid: M=[8, 16, 32, 64], K=[100, 200, 400], K_Search=[100, 200, 400]
Parallel Threads per Dataset: 30
OMP Threads per Task: 1
Output CSV: /home/djj/code/experiment/SeRF/results/serf_range_test/results_20260101_124202.csv
==================================================

Dataset DEEP-96: 180 tasks (36 params × 5 ranges)
==================================================
Processing Dataset: DEEP-96
==================================================
Base dataset: /home/djj/code/experiment/timestampRAG/data/DEEP10M/deep_base.fvecs
Total tasks: 180
Parallel threads: 30
==================================================

[OK] DEEP-96 R50%: M=8, K=100, KS=100 -> recall=0.495, qps=375
[OK] DEEP-96 R50%: M=8, K=100, KS=400 -> recall=0.745, qps=156
[OK] DEEP-96 R100%: M=8, K=100, KS=400 -> recall=0.777, qps=181
[OK] DEEP-96 R10%: M=8, K=100, KS=100 -> recall=0.549, qps=517
[OK] DEEP-96 R50%: M=8, K=100, KS=200 -> recall=0.635, qps=245
[OK] DEEP-96 R20%: M=8, K=100, KS=100 -> recall=0.510, qps=505
[OK] DEEP-96 R1%: M=8, K=100, KS=400 -> recall=0.779, qps=392
[OK] DEEP-96 R10%: M=8, K=100, KS=200 -> recall=0.683, qps=381
[OK] DEEP-96 R20%: M=8, K=100, KS=200 -> recall=0.652, qps=317
[OK] DEEP-96 R100%: M=8, K=100, KS=100 -> recall=0.514, qps=327
[OK] DEEP-96 R10%: M=8, K=100, KS=400 -> recall=0.802, qps=229
[OK] DEEP-96 R1%: M=8, K=200, KS=100 -> recall=0.535, qps=801
[OK] DEEP-96 R100%: M=8, K=100, KS=200 -> recall=0.654, qps=228
[OK] DEEP-96 R1%: M=8, K=200, KS=400 -> recall=0.767, qps=415
[OK] DEEP-96 R50%: M=8, K=200, KS=400 -> recall=0.743, qps=177
[OK] DEEP-96 R1%: M=8, K=100, KS=200 -> recall=0.671, qps=602
[OK] DEEP-96 R1%: M=8, K=100, KS=100 -> recall=0.540, qps=934
[OK] DEEP-96 R100%: M=8, K=200, KS=400 -> recall=0.774, qps=125
[OK] DEEP-96 R100%: M=8, K=200, KS=200 -> recall=0.653, qps=219
[OK] DEEP-96 R20%: M=8, K=100, KS=400 -> recall=0.773, qps=201
[OK] DEEP-96 R20%: M=8, K=200, KS=400 -> recall=0.775, qps=225
[OK] DEEP-96 R50%: M=8, K=200, KS=200 -> recall=0.631, qps=273
[OK] DEEP-96 R100%: M=8, K=200, KS=100 -> recall=0.514, qps=363
[OK] DEEP-96 R10%: M=8, K=200, KS=200 -> recall=0.681, qps=383
[OK] DEEP-96 R20%: M=8, K=200, KS=200 -> recall=0.649, qps=343
[OK] DEEP-96 R10%: M=8, K=200, KS=400 -> recall=0.797, qps=240
[OK] DEEP-96 R20%: M=8, K=200, KS=100 -> recall=0.506, qps=493
[OK] DEEP-96 R10%: M=8, K=200, KS=100 -> recall=0.546, qps=585
[OK] DEEP-96 R50%: M=8, K=200, KS=100 -> recall=0.495, qps=421
[OK] DEEP-96 R1%: M=8, K=200, KS=200 -> recall=0.661, qps=596
[OK] DEEP-96 R100%: M=8, K=400, KS=100 -> recall=0.515, qps=341
[OK] DEEP-96 R1%: M=8, K=400, KS=100 -> recall=0.535, qps=729
[OK] DEEP-96 R50%: M=8, K=400, KS=100 -> recall=0.494, qps=360
[OK] DEEP-96 R20%: M=8, K=400, KS=200 -> recall=0.649, qps=284
[OK] DEEP-96 R10%: M=8, K=400, KS=100 -> recall=0.545, qps=556
[OK] DEEP-96 R20%: M=8, K=400, KS=100 -> recall=0.508, qps=435
[OK] DEEP-96 R1%: M=8, K=400, KS=200 -> recall=0.663, qps=552
[OK] DEEP-96 R10%: M=8, K=400, KS=200 -> recall=0.680, qps=348
[OK] DEEP-96 R20%: M=8, K=400, KS=400 -> recall=0.774, qps=164
[OK] DEEP-96 R100%: M=8, K=400, KS=400 -> recall=0.775, qps=107
[OK] DEEP-96 R100%: M=8, K=400, KS=200 -> recall=0.653, qps=205
[OK] DEEP-96 R1%: M=8, K=400, KS=400 -> recall=0.766, qps=374
[OK] DEEP-96 R50%: M=8, K=400, KS=200 -> recall=0.628, qps=261
[OK] DEEP-96 R10%: M=8, K=400, KS=400 -> recall=0.797, qps=217
[OK] DEEP-96 R50%: M=8, K=400, KS=400 -> recall=0.743, qps=156
[OK] DEEP-96 R10%: M=16, K=100, KS=200 -> recall=0.753, qps=313
[OK] DEEP-96 R10%: M=16, K=100, KS=100 -> recall=0.622, qps=692
[OK] DEEP-96 R1%: M=16, K=100, KS=100 -> recall=0.579, qps=869
[OK] DEEP-96 R50%: M=16, K=100, KS=400 -> recall=0.846, qps=119
[OK] DEEP-96 R10%: M=16, K=100, KS=400 -> recall=0.863, qps=196
[OK] DEEP-96 R100%: M=16, K=100, KS=200 -> recall=0.779, qps=163
[OK] DEEP-96 R20%: M=16, K=100, KS=100 -> recall=0.597, qps=428
[OK] DEEP-96 R20%: M=16, K=100, KS=200 -> recall=0.733, qps=259
[OK] DEEP-96 R50%: M=16, K=100, KS=200 -> recall=0.736, qps=224
[OK] DEEP-96 R50%: M=16, K=100, KS=100 -> recall=0.600, qps=331
[OK] DEEP-96 R100%: M=16, K=100, KS=400 -> recall=0.879, qps=93
[OK] DEEP-96 R20%: M=16, K=100, KS=400 -> recall=0.847, qps=179
[OK] DEEP-96 R100%: M=16, K=100, KS=100 -> recall=0.650, qps=243
[OK] DEEP-96 R1%: M=16, K=100, KS=200 -> recall=0.705, qps=580
[OK] DEEP-96 R1%: M=16, K=100, KS=400 -> recall=0.813, qps=416
[OK] DEEP-96 R1%: M=16, K=200, KS=100 -> recall=0.557, qps=731
[OK] DEEP-96 R1%: M=16, K=200, KS=200 -> recall=0.685, qps=538
[OK] DEEP-96 R100%: M=16, K=200, KS=100 -> recall=0.663, qps=337
[OK] DEEP-96 R10%: M=16, K=200, KS=200 -> recall=0.747, qps=331
[OK] DEEP-96 R20%: M=16, K=200, KS=200 -> recall=0.735, qps=256
[OK] DEEP-96 R1%: M=16, K=200, KS=400 -> recall=0.788, qps=381
[OK] DEEP-96 R50%: M=16, K=200, KS=100 -> recall=0.608, qps=321
[OK] DEEP-96 R50%: M=16, K=200, KS=400 -> recall=0.852, qps=121
[OK] DEEP-96 R20%: M=16, K=200, KS=100 -> recall=0.597, qps=405
[OK] DEEP-96 R10%: M=16, K=200, KS=100 -> recall=0.613, qps=469
[OK] DEEP-96 R10%: M=16, K=200, KS=400 -> recall=0.856, qps=193
[OK] DEEP-96 R20%: M=16, K=200, KS=400 -> recall=0.846, qps=157
[OK] DEEP-96 R100%: M=16, K=200, KS=200 -> recall=0.793, qps=134
[OK] DEEP-96 R50%: M=16, K=200, KS=200 -> recall=0.744, qps=194
[OK] DEEP-96 R100%: M=16, K=200, KS=400 -> recall=0.889, qps=77
[OK] DEEP-96 R1%: M=16, K=400, KS=100 -> recall=0.559, qps=788
[OK] DEEP-96 R10%: M=16, K=400, KS=100 -> recall=0.611, qps=494
[OK] DEEP-96 R20%: M=16, K=400, KS=100 -> recall=0.598, qps=387
[OK] DEEP-96 R1%: M=16, K=400, KS=400 -> recall=0.786, qps=510
[OK] DEEP-96 R20%: M=16, K=400, KS=400 -> recall=0.846, qps=155
[OK] DEEP-96 R20%: M=16, K=400, KS=200 -> recall=0.736, qps=273
[OK] DEEP-96 R10%: M=16, K=400, KS=400 -> recall=0.855, qps=200
[OK] DEEP-96 R50%: M=16, K=400, KS=100 -> recall=0.610, qps=293
[OK] DEEP-96 R100%: M=16, K=400, KS=100 -> recall=0.668, qps=210
[OK] DEEP-96 R50%: M=16, K=400, KS=200 -> recall=0.747, qps=206
[OK] DEEP-96 R100%: M=16, K=400, KS=200 -> recall=0.799, qps=128
[OK] DEEP-96 R10%: M=16, K=400, KS=200 -> recall=0.747, qps=326
[OK] DEEP-96 R100%: M=16, K=400, KS=400 -> recall=0.892, qps=71
[OK] DEEP-96 R1%: M=16, K=400, KS=200 -> recall=0.683, qps=526
[OK] DEEP-96 R50%: M=16, K=400, KS=400 -> recall=0.854, qps=133
[OK] DEEP-96 R1%: M=32, K=100, KS=100 -> recall=0.601, qps=760
[OK] DEEP-96 R100%: M=32, K=100, KS=200 -> recall=0.810, qps=129
[OK] DEEP-96 R20%: M=32, K=100, KS=400 -> recall=0.866, qps=142
[OK] DEEP-96 R20%: M=32, K=100, KS=200 -> recall=0.755, qps=253
[OK] DEEP-96 R10%: M=32, K=100, KS=100 -> recall=0.636, qps=436
[OK] DEEP-96 R20%: M=32, K=100, KS=100 -> recall=0.622, qps=410
[OK] DEEP-96 R50%: M=32, K=100, KS=400 -> recall=0.876, qps=108
[OK] DEEP-96 R1%: M=32, K=100, KS=200 -> recall=0.735, qps=624
[OK] DEEP-96 R1%: M=32, K=100, KS=400 -> recall=0.837, qps=375
[OK] DEEP-96 R100%: M=32, K=100, KS=400 -> recall=0.903, qps=67
[OK] DEEP-96 R100%: M=32, K=100, KS=100 -> recall=0.690, qps=232
[OK] DEEP-96 R50%: M=32, K=100, KS=200 -> recall=0.771, qps=164
[OK] DEEP-96 R10%: M=32, K=100, KS=200 -> recall=0.774, qps=291
[OK] DEEP-96 R10%: M=32, K=100, KS=400 -> recall=0.876, qps=189
[OK] DEEP-96 R50%: M=32, K=100, KS=100 -> recall=0.637, qps=292
[OK] DEEP-96 R1%: M=32, K=200, KS=100 -> recall=0.573, qps=694
[OK] DEEP-96 R10%: M=32, K=200, KS=400 -> recall=0.881, qps=181
[OK] DEEP-96 R20%: M=32, K=200, KS=200 -> recall=0.772, qps=244
[OK] DEEP-96 R50%: M=32, K=200, KS=100 -> recall=0.674, qps=263
[OK] DEEP-96 R20%: M=32, K=200, KS=100 -> recall=0.640, qps=404
[OK] DEEP-96 R1%: M=32, K=200, KS=200 -> recall=0.706, qps=515
[OK] DEEP-96 R10%: M=32, K=200, KS=100 -> recall=0.635, qps=550
[OK] DEEP-96 R50%: M=32, K=200, KS=200 -> recall=0.800, qps=160
[OK] DEEP-96 R50%: M=32, K=200, KS=400 -> recall=0.895, qps=94
[OK] DEEP-96 R20%: M=32, K=200, KS=400 -> recall=0.877, qps=140
[OK] DEEP-96 R100%: M=32, K=200, KS=100 -> recall=0.735, qps=161
[OK] DEEP-96 R100%: M=32, K=200, KS=200 -> recall=0.846, qps=99
[OK] DEEP-96 R1%: M=32, K=200, KS=400 -> recall=0.817, qps=340
[OK] DEEP-96 R100%: M=32, K=200, KS=400 -> recall=0.923, qps=59
[OK] DEEP-96 R10%: M=32, K=200, KS=200 -> recall=0.776, qps=303
[OK] DEEP-96 R1%: M=32, K=400, KS=200 -> recall=0.721, qps=537
[OK] DEEP-96 R20%: M=32, K=400, KS=100 -> recall=0.657, qps=341
[OK] DEEP-96 R10%: M=32, K=400, KS=100 -> recall=0.649, qps=450
[OK] DEEP-96 R10%: M=32, K=400, KS=400 -> recall=0.884, qps=191
[OK] DEEP-96 R1%: M=32, K=400, KS=400 -> recall=0.827, qps=336
[OK] DEEP-96 R100%: M=32, K=400, KS=400 -> recall=0.936, qps=66
[OK] DEEP-96 R20%: M=32, K=400, KS=200 -> recall=0.788, qps=234
[OK] DEEP-96 R100%: M=32, K=400, KS=100 -> recall=0.759, qps=163
[OK] DEEP-96 R10%: M=32, K=400, KS=200 -> recall=0.785, qps=277
[OK] DEEP-96 R1%: M=32, K=400, KS=100 -> recall=0.586, qps=725
[OK] DEEP-96 R50%: M=32, K=400, KS=200 -> recall=0.822, qps=168
[OK] DEEP-96 R100%: M=32, K=400, KS=200 -> recall=0.868, qps=90
[OK] DEEP-96 R50%: M=32, K=400, KS=100 -> recall=0.700, qps=276
[OK] DEEP-96 R20%: M=32, K=400, KS=400 -> recall=0.889, qps=133
[OK] DEEP-96 R50%: M=32, K=400, KS=400 -> recall=0.911, qps=87
[OK] DEEP-96 R1%: M=64, K=100, KS=100 -> recall=0.592, qps=693
[OK] DEEP-96 R10%: M=64, K=100, KS=100 -> recall=0.635, qps=424
[OK] DEEP-96 R1%: M=64, K=100, KS=200 -> recall=0.725, qps=507
[OK] DEEP-96 R100%: M=64, K=100, KS=100 -> recall=0.692, qps=221
[OK] DEEP-96 R50%: M=64, K=100, KS=200 -> recall=0.774, qps=187
[OK] DEEP-96 R20%: M=64, K=100, KS=100 -> recall=0.623, qps=370
[OK] DEEP-96 R10%: M=64, K=100, KS=200 -> recall=0.770, qps=289
[OK] DEEP-96 R50%: M=64, K=100, KS=100 -> recall=0.641, qps=336
[OK] DEEP-96 R50%: M=64, K=100, KS=400 -> recall=0.879, qps=107
[OK] DEEP-96 R1%: M=64, K=100, KS=400 -> recall=0.828, qps=387
[OK] DEEP-96 R100%: M=64, K=100, KS=200 -> recall=0.814, qps=114
[OK] DEEP-96 R10%: M=64, K=100, KS=400 -> recall=0.874, qps=189
[OK] DEEP-96 R20%: M=64, K=100, KS=400 -> recall=0.865, qps=163
[OK] DEEP-96 R20%: M=64, K=100, KS=200 -> recall=0.752, qps=235
[OK] DEEP-96 R100%: M=64, K=100, KS=400 -> recall=0.904, qps=72
[OK] DEEP-96 R10%: M=64, K=200, KS=100 -> recall=0.637, qps=416
[OK] DEEP-96 R50%: M=64, K=200, KS=100 -> recall=0.676, qps=257
[OK] DEEP-96 R1%: M=64, K=200, KS=100 -> recall=0.569, qps=766
[OK] DEEP-96 R1%: M=64, K=200, KS=400 -> recall=0.816, qps=342
[OK] DEEP-96 R10%: M=64, K=200, KS=200 -> recall=0.774, qps=288
[OK] DEEP-96 R100%: M=64, K=200, KS=100 -> recall=0.738, qps=278
[OK] DEEP-96 R50%: M=64, K=200, KS=200 -> recall=0.803, qps=287
[OK] DEEP-96 R20%: M=64, K=200, KS=200 -> recall=0.776, qps=401
[OK] DEEP-96 R10%: M=64, K=200, KS=400 -> recall=0.880, qps=195
[OK] DEEP-96 R20%: M=64, K=200, KS=100 -> recall=0.643, qps=641
[OK] DEEP-96 R1%: M=64, K=200, KS=200 -> recall=0.703, qps=600
[OK] DEEP-96 R50%: M=64, K=200, KS=400 -> recall=0.900, qps=165
[OK] DEEP-96 R100%: M=64, K=200, KS=200 -> recall=0.848, qps=177
[OK] DEEP-96 R20%: M=64, K=200, KS=400 -> recall=0.879, qps=287
[OK] DEEP-96 R100%: M=64, K=200, KS=400 -> recall=0.927, qps=122
[OK] DEEP-96 R20%: M=64, K=400, KS=100 -> recall=0.667, qps=583
[OK] DEEP-96 R100%: M=64, K=400, KS=200 -> recall=0.878, qps=218
[OK] DEEP-96 R100%: M=64, K=400, KS=100 -> recall=0.770, qps=274
[OK] DEEP-96 R1%: M=64, K=400, KS=200 -> recall=0.714, qps=1117
[OK] DEEP-96 R10%: M=64, K=400, KS=100 -> recall=0.647, qps=1069
[OK] DEEP-96 R1%: M=64, K=400, KS=400 -> recall=0.825, qps=860
[OK] DEEP-96 R1%: M=64, K=400, KS=100 -> recall=0.579, qps=1776
[OK] DEEP-96 R50%: M=64, K=400, KS=200 -> recall=0.831, qps=524
[OK] DEEP-96 R10%: M=64, K=400, KS=200 -> recall=0.781, qps=955
[OK] DEEP-96 R20%: M=64, K=400, KS=400 -> recall=0.894, qps=515
[OK] DEEP-96 R10%: M=64, K=400, KS=400 -> recall=0.884, qps=721
[OK] DEEP-96 R50%: M=64, K=400, KS=100 -> recall=0.713, qps=1314
[OK] DEEP-96 R50%: M=64, K=400, KS=400 -> recall=0.919, qps=533
[OK] DEEP-96 R20%: M=64, K=400, KS=200 -> recall=0.795, qps=1633
[OK] DEEP-96 R100%: M=64, K=400, KS=400 -> recall=0.943, qps=567
